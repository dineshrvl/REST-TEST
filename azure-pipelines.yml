# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master
jobs:
- deployment: VMDeploy
  displayName: web
  environment:
    name: Env1
    resourceType: VirtualMachine
  strategy:
    runOnce:
      deploy:
        steps:
        - checkout: self
        - script: |
            echo $(Build.SourcesDirectory)
            ls $(Build.SourcesDirectory) *
        -  task: "Maven@3"
           displayName: maven_project_profile
           inputs:
             mavenPomFile: '01-hello-world-rest-api/pom.xml'
             goals: 'clean install'
